(this["webpackJsonprandom-wok"]=this["webpackJsonprandom-wok"]||[]).push([[0],{368:function(e,t,n){e.exports=n(642)},625:function(e,t){},626:function(e,t){},627:function(e,t){},628:function(e,t){},629:function(e,t){},630:function(e,t){},641:function(e,t,n){},642:function(e,t,n){"use strict";n.r(t);var a=n(29),r=(n(237),n(3)),l=n.n(r),i=n(137),o=n.n(i),u=n(5),c=n(12),s=Object(c.e)(),d=Object(c.i)(s,null),m=n(4),f=n(15),p=[[[1,1,1],[1,2,3],[1,4,5]],[[2,7,10],[4,11,17],[1,19,21]],[[2,24,28],[3,29,35],[3,36,41]],[[2,43,46],[3,48,52],[2,54,57],[1,59,59]],null],h=[null,null,null,null,[[1,63,68],[1,64,72],[2,61,73],[2,60,71]]],g=n(298),b=n.n(g),v=Object(c.e)(),x=Object(c.i)(v,null),E=Object(c.b)(d,x,(function(e,t){if(null===e||null===t)return null;var n=new b.a({allowSelfLoops:!1,edgeKeyGenerator:function(e){e.undirected;var t=e.source,n=e.target;e.attributes;return"".concat(t,"->").concat(n)},multi:!0,type:"directed"}),r=0;for(var l in e)if(0!==e[l]){var i=Object(a.a)(Object(a.a)({},z(t,l)),{},{i:l,id:++r});n.addNode(l,i)}var o,u=Object(m.a)(n.nodeEntries());try{for(u.s();!(o=u.n()).done;){var c=Object(f.a)(o.value,2),s=c[0],d=c[1];if(d.x<t.x-1){var p=k(t,d.x+1,d.y,d.z);n.hasNode(p)&&n.addEdge(s,p,{x:1,y:0,z:0})}if(d.y<t.y-1){var h=k(t,d.x,d.y+1,d.z);n.hasNode(h)&&n.addEdge(s,h,{x:0,y:1,z:0})}if(d.x>0){var g=k(t,d.x-1,d.y,d.z);n.hasNode(g)&&n.addEdge(s,g,{x:-1,y:0,z:0})}if(d.y>0){var v=k(t,d.x,d.y-1,d.z);n.hasNode(v)&&n.addEdge(s,v,{x:0,y:-1,z:0})}if(d.z<t.z-1){if(d.x<t.x-1){var x=k(t,d.x+1,d.y,d.z+1);n.hasNode(x)&&n.addEdge(s,x,{x:1,y:0,z:1})}if(d.y<t.y-1){var E=k(t,d.x,d.y+1,d.z+1);n.hasNode(E)&&n.addEdge(s,E,{x:0,y:1,z:1})}if(d.x>0){var y=k(t,d.x-1,d.y,d.z+1);n.hasNode(y)&&n.addEdge(s,y,{x:-1,y:0,z:1})}if(d.y>0){var j=k(t,d.x,d.y-1,d.z+1);n.hasNode(j)&&n.addEdge(s,j,{x:0,y:-1,z:1})}}}}catch(O){u.e(O)}finally{u.f()}return n})),y=Object(c.b)(E,x,(function(e,t){if(null===e||null===t)return null;var n,a=0,r={},l={},i=function(n){var a=e.getNodeAttributes(n);a.x<t.x-1&&o(n,k(t,a.x+1,a.y,a.z)),a.y<t.y-1&&o(n,k(t,a.x,a.y+1,a.z)),a.x>0&&o(n,k(t,a.x-1,a.y,a.z)),a.y>0&&o(n,k(t,a.x,a.y-1,a.z))},o=function(t,n){t in r&&n in r||e.hasNode(n)&&e.hasEdge(t,n)&&(t in r||(r[t]=++a,l[r[t]]=[+t]),n in r||(r[n]=r[t],l[r[n]].push(+n)),i(n))},u=Object(m.a)(e.nodes());try{for(u.s();!(n=u.n()).done;){var c=n.value;i(+c)}}catch(s){u.e(s)}finally{u.f()}return[l,r]})),j=y.map((function(e){if(null===e)return null;var t=Object(f.a)(e,2),n=t[0];t[1];for(var a in n)n[a].sort();return n})),O=y.map((function(e){if(null===e)return null;var t=Object(f.a)(e,2);t[0];return t[1]})),w=d.map((function(e){if(!e)return null;var t=0;return e.map((function(e){return 0===e?0:++t}))}));function z(e,t){var n=e.x*e.y,a=Math.floor(t/n);t-=a*n;var r=Math.floor(t/e.x);return{x:t-r*e.x,y:r,z:a}}function k(e,t,n,a){return a*e.x*e.y+n*e.x+t}var S=function(e){j.getState();for(var t=O.getState(),n=E.getState(),a=w.getState(),r=x.getState(),l=Object.fromEntries(Object.keys(t).map((function(e){return[a[e],e]}))),i=function(e,t){for(var i=[e],o=e;o!==t;){var c=n.getNodeAttributes(l[o]);o=a[k(r,c.x+1,c.y,c.z)],i=[].concat(Object(u.a)(i),[o])}return i},o=function(e,t){for(var i=[e],o=e;o!==t;){var c=n.getNodeAttributes(l[o]);o=a[k(r,c.x,c.y+1,c.z)],i=[].concat(Object(u.a)(i),[o])}return i},c=function(e){return e[Math.floor(Math.random()*e.length)]},s=function(e,t,l,i){if(!(t.x<0||t.y<0||t.x>=r.x||t.y>=r.y)){var o=k(r,t.x,t.y,t.z);if(!n.hasEdge(e,o)||l.indexOf(a[o])<0){var u=k(r,t.x,t.y,t.z+1);n.hasEdge(e,u)&&i.indexOf(a[u])<0&&i.push(a[u])}}},d=[],g=[],b=0;b<5;++b){var v,y=p[b]||h[b],z=[],S=Object(m.a)(y);try{var A=function(){var e=Object(f.a)(v.value,3),t=e[0],n=e[1],a=e[2],r=0===n?null:p[b]?i(n,a):o(n,a),l=[];if(g.length>0)if(0===n){if(g.indexOf(a)>-1)l.push(a);else for(var s=0;s<t;++s){var d=0;do{d=0===n?[n,a][Math.round(Math.random())]:c(r)}while(l.indexOf(d)>-1);d>0&&l.push(d)}}else{var m=g.filter((function(e){return r.indexOf(e)>-1}));if(m.length>0)for(var h=0;h<t;++h){var x=0;do{x=Math.random()<.5?m[Math.floor(Math.random()*m.length)]:c(r)}while(l.indexOf(x)>-1);l.push(x)}else for(var E=0;E<t;++E){var y=0;do{y=0===n?[n,a][Math.round(Math.random())]:c(r)}while(l.indexOf(y)>-1);y>0&&l.push(y)}}else for(var j=0;j<t;++j){var O=0;do{O=0===n?[n,a][Math.round(Math.random())]:c(r)}while(l.indexOf(O)>-1);O>0&&l.push(O)}z=[].concat(Object(u.a)(z),l)};for(S.s();!(v=S.n()).done;)A()}catch(M){S.e(M)}finally{S.f()}g=[];for(var N=0,B=z;N<B.length;N++){var T=B[N],D=l[T],H=n.getNodeAttributes(D);s(D,{x:H.x+1,y:H.y,z:H.z},z,g),s(D,{x:H.x,y:H.y+1,z:H.z},z,g),s(D,{x:H.x-1,y:H.y,z:H.z},z,g),s(D,{x:H.x,y:H.y-1,z:H.z},z,g)}d=[].concat(Object(u.a)(d),Object(u.a)(z))}return d.sort((function(e,t){return e-t})),d},A=function(e,t){var n=0;return e.map((function(e){return 0===e?0:t.indexOf(++n)>-1?1:0}))},N=function(e,t){return e.map((function(e,n){return e+t[n]}))},B=Object(c.e)(),T=Object(c.i)(B,!1),D=Object(c.e)(),H=Object(c.i)(D,null),M=Object(c.e)(),C=Object(c.i)(M,null),I=0,R=Object(c.d)();R.use((function(){return clearTimeout(I),fetch("https://heartrate.miran248.now.sh/api/current-iteration").then((function(e){return e.json()}))})),R.done.watch((function(e){e.params;var t=e.result;M(t)})),R.finally.watch((function(){!1===T.getState()&&(I=setTimeout((function(){return R()}),3e4))})),R(),Object(c.b)(d,C,(function(e,t){if(null!==e&&null!==t){var n=A(e,t.data),r=t.aggregate||{human:null,animal:null},l=r.human,i=r.animal,o=Object(a.a)(Object(a.a)({},t),{},{animal:i,combined:N(e,n),human:l,layout:n});_(o)}}));var _=Object(c.e)(),F=Object(c.i)(_,null),L=Object(c.e)(),P=Object(c.i)(L,null),V=0,G=Object(c.d)();G.use((function(){return clearTimeout(V),fetch("https://heartrate.miran248.now.sh/api/previous-iteration").then((function(e){return e.json()}))})),G.done.watch((function(e){e.params;var t=e.result;L(t)})),G.finally.watch((function(){!1===T.getState()&&(V=setTimeout((function(){return G()}),3e4))})),G(),Object(c.b)(d,P,(function(e,t){if(null!==e&&null!==t){var n=A(e,t.data),r=t.aggregate||{human:null,animal:null},l=r.human,i=r.animal,o=Object(a.a)(Object(a.a)({},t),{},{animal:i,combined:N(e,n),human:l,layout:n});Z(o)}}));var Z=Object(c.e)(),K=Object(c.i)(Z,null),X=Object(c.e)(),J=Object(c.i)(X,null),W=0,Y=Object(c.d)();Y.use((function(){return clearTimeout(W),fetch("https://heartrate.miran248.now.sh/api/iterations").then((function(e){return e.json()}))})),Y.done.watch((function(e){e.params;var t=e.result;X(t)})),Y.finally.watch((function(){!1===T.getState()&&(W=setTimeout((function(){return Y()}),3e4))})),Y();Object(c.b)(d,H,J,(function(e,t,n){if(null!==e&&null!==t&&null!==n){var r=[].concat(Object(u.a)(t),Object(u.a)(n));r.sort((function(e,t){return e.timestamp-t.timestamp}));var l=r.map((function(t){var n=A(e,t.data),r=t.aggregate,l=void 0===r?null:r,i=l||{human:null,animal:null},o=i.human,u=i.animal;if("_id"in t)return o=Object(a.a)({entries:[]},o||{}),u=Object(a.a)({entries:[]},u||{}),Object(a.a)(Object(a.a)({},t),{},{animal:u,combined:N(e,n),human:o,layout:n});"maja"in t&&(o={bpm:t.maja,entries:[]}),u=function(e){var t=[];"dog"in e&&t.push(e.dog),"george"in e&&t.push(e.george),"boogie"in e&&t.push(e.boogie),"mala"in e&&t.push(e.mala),"ada"in e&&t.push(e.ada);var n=t.length;return 0===n?null:{bpm:t.reduce((function(e,t){return e+t}),0)/n,entries:[]}}(t);var c,s=!("valid"in t)||t.valid,d=null!==o&&null!==u?Math.abs(o.bpm-u.bpm):null,m=Number.isFinite(d)?(c=d)<5?0:c<10?1:c<20?2:c<40?3:4:null,f=s&&Number.isFinite(m),p=f?Array.from(Array(5),(function(e,t){return t===m?1:0})):null;return Object(a.a)(Object(a.a)({},t),{},{animal:u,combined:N(e,n),human:o,layout:n,actualRank:m,aggregate:l,delta:d,ended:null!==l&&!!l.stop,output:p,trainable:f,valid:s})}));l.sort((function(e,t){return t.timestamp-e.timestamp})),q(l)}}));var q=Object(c.e)(),Q=Object(c.i)(q,null);T.watch((function(e){e&&(clearTimeout(I),clearTimeout(V),clearTimeout(W))}));var U=function(){R(),G(),Y()},$=n(22),ee=n(148),te=n(30),ne=n(19),ae=["#00010E","#2E4A5B","#2E4A5B","#2E4A5B","#050F18","#F2DFCE","#A0CEDC","#2E4A5B","#D93D04","#1A2532","#2E4A5B"];function re(){var e=Object($.a)(["\n  border-top: 2px solid ",";\n"]);return re=function(){return e},e}function le(){var e=Object($.a)(["\n  background-color: ",";\n  border: 2px solid ",";\n  border-radius: 5px;\n  color: ",";\n  font-size: 25px;\n  height: 53px;\n  padding: 0;\n  text-transform: uppercase;\n  width: 190px;\n"]);return le=function(){return e},e}function ie(){var e=Object($.a)(["\n  grid-column: span 3;\n"]);return ie=function(){return e},e}function oe(){var e=Object($.a)(["\n  grid-column: span 2;\n"]);return oe=function(){return e},e}function ue(){var e=Object($.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  gap: 17px;\n  // height: 479px;\n  padding-left: 22px;\n  padding-right: 22px;\n"]);return ue=function(){return e},e}function ce(){var e=Object($.a)(["\n  align-items: center;\n  background-color: ",";\n  display: flex;\n  height: ",";\n  justify-content: space-between;\n  padding-left: 22px;\n  padding-right: 22px;\n"]);return ce=function(){return e},e}function se(){var e=Object($.a)(["\n  align-items: end;\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 52px;\n  grid-gap: 7px;\n  grid-template-columns: 70px 157px 46px;\n  padding-left: 22px;\n  padding-right: 22px;\n"]);return se=function(){return e},e}function de(){var e=Object($.a)(["\n  border: 2px solid ",";\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n"]);return de=function(){return e},e}function me(){var e=Object($.a)(["\n  display: grid;\n  place-items: center;\n"]);return me=function(){return e},e}function fe(){var e=Object($.a)(["\n  flex: 1;\n"]);return fe=function(){return e},e}function pe(){var e=Object($.a)(["\n  align-items: flex-end;\n  color: ",";\n  display: flex !important;\n  font-size: 50px;\n  height: 52px;\n  line-height: 37px;\n  justify-content: flex-end;\n  text-transform: uppercase;\n"]);return pe=function(){return e},e}function he(){var e=Object($.a)(["\n  color: ",";\n  display: flex !important;\n  font-size: 25px;\n  line-height: 19px;\n  justify-content: flex-end;\n  text-transform: uppercase;\n"]);return he=function(){return e},e}function ge(){var e=Object($.a)(["\n  color: ",";\n  display: flex !important;\n  font-size: 20px;\n  line-height: 19px;\n  text-transform: uppercase;\n"]);return ge=function(){return e},e}function be(){var e=Object($.a)(["\n  color: ",";\n  display: grid !important;\n  font-size: 20px;\n  height: 46px;\n  margin: 0;\n  place-items: center;\n  text-decoration: none;\n  text-transform: uppercase;\n"]);return be=function(){return e},e}function ve(){var e=Object($.a)(["\n  border-bottom: 5px solid ",";\n  color: ",";\n  display: grid;\n  font-size: 25px;\n  opacity: .5;\n  place-items: center;\n  text-decoration: none;\n  text-transform: uppercase;\n\n  &.active {\n    border-bottom: 5px solid ",";\n    color: ",";\n    opacity: 1;\n  }\n"]);return ve=function(){return e},e}function xe(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 67px;\n  grid-gap: 21.5px;\n  grid-template-columns: repeat(3, 419px);\n"]);return xe=function(){return e},e}function Ee(){var e=Object($.a)(["\n  display: block;\n  width: 100%;\n"]);return Ee=function(){return e},e}ne.a.img(Ee());var ye=ne.a.header(xe()),je=Object(ne.a)(ee.b)(ve(),ae[1],ae[2],ae[3],ae[3]),Oe=ne.a.h3(be(),ae[5]),we=ne.a.div(ge(),ae[5]),ze=ne.a.div(he(),ae[6]),ke=ne.a.div(pe(),ae[6]),Se=ne.a.div(fe()),Ae=ne.a.div(me()),Ne=ne.a.div(de(),ae[1]),Be=ne.a.div(se()),Te=ne.a.div(ce(),ae[4],(function(e){return e.small?"34px":"52px"})),De=ne.a.div(ue()),He=(ne.a.div(oe()),ne.a.div(ie()),ne.a.button(le(),ae[9],ae[10],ae[5])),Me=ne.a.div(re(),ae[1]),Ce=function(){return l.a.createElement(ye,null,l.a.createElement(je,{to:"/",exact:!0},"main"),l.a.createElement(je,{to:"/archive",exact:!0},"archive"),l.a.createElement(je,{to:"/dictionary",exact:!0},"dictionary"))},Ie=n(10),Re=n.n(Ie),_e=n(21),Fe=n(155),Le=n(665),Pe=n(18),Ve=n(303),Ge=function(e){return Number.isFinite(e)?Math.round(e):"NA"},Ze=n(49),Ke=n.n(Ze),Xe=function(e){var t=e.layout,n=void 0===t?null:t,a=Object(Pe.a)(x),i=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(null!==i.current&&null!==n)return new Ke.a(function(e,t){return function(n){var a=w.getState(),r=12*((t.x+1)*t.z-1),l=12*t.y;n.setup=function(){n.createCanvas(r,l,n.CANVAS),n.noLoop(),n.textSize(12*.6),n.textAlign(n.CENTER,n.CENTER),n.stroke(ae[1])},n.draw=function(){for(var r in e){var l=z(t,r),i=12*l.x,o=12*l.y,u=i+l.z*(t.x+1)*12,c=o,s=ae[0];2===e[r]?s=ae[8]:1===e[r]&&(s=ae[7]),n.fill(s),n.rect(u,c,12,12),n.fill(ae[0]),a[r]>0&&n.text(a[r],u+6,c+6)}}}}(n,a),i.current).remove}),[i.current,n]),l.a.createElement("div",{ref:i})};function Je(){var e=Object($.a)(["\n  // border: 1px solid #000000;\n  color: #000000;\n  display: grid;\n  font-size: 1ch;\n  grid-auto-columns: 6ch;\n  grid-auto-flow: column;\n  grid-gap: 1ch;\n  grid-template-rows: repeat(5, 6ch);\n  overflow-x: auto;\n\n  * {\n    border: 1px solid #000000;\n    display: grid;\n    place-items: center;\n  }\n"]);return Je=function(){return e},e}function We(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: max-content;\n  grid-gap: 17px;\n  height: 639px;\n  overflow-y: auto;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return We=function(){return e},e}var Ye=function(){var e=Object(_e.a)(Re.a.mark((function e(t,n){var r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(a.a)({_id:t},n),console.log("saveIteration",r),e.next=4,fetch("https://heartrate.miran248.now.sh/api/iteration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:U();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=ne.a.div(We()),Qe=ne.a.div(Je()),Ue=Fe.b().interpolator(Fe.a(Fe.c)).domain([0,4]),$e=function(e){var t=e.columns,n=e.data,a=Object(Ve.useTable)({columns:t,data:n}),r=a.getTableProps,i=a.getTableBodyProps,o=a.headerGroups,u=a.rows,c=a.prepareRow;return l.a.createElement("table",r(),l.a.createElement("thead",null,o.map((function(e){return l.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),l.a.createElement("tbody",i(),u.map((function(e,t){return c(e),l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",e.getCellProps(),e.render("Cell"))})))}))))},et=function(e,t){var n=t.actualRank,a=t.timestamp;return n===e?l.a.createElement("div",{style:{backgroundColor:Ue(n)}},Object(Le.a)(a,"MM/dd"),l.a.createElement("br",null),Object(Le.a)(a,"HH:mm")):l.a.createElement("div",null)},tt=function(){var e=Object(Pe.a)(Q),t=Object(r.useState)(!1),n=Object(f.a)(t,2),a=n[0],i=n[1],o=Object(r.useMemo)((function(){return[{Header:"valid",accessor:"valid",Cell:function(e){var t=e.row.original,n=e.value;return l.a.createElement("input",{type:"checkbox",checked:n,disabled:!("_id"in t),onChange:function(){return Ye(t._id,{valid:!n})}})}},{Header:"date",accessor:function(e){var t,n=e.timestamp;return t=n,Object(Le.a)(t,"yyyy-MM-dd HH:mm:ss")}},{Header:"layout",accessor:"combined",Cell:function(e){var t=e.value;return l.a.createElement(Xe,{layout:t})}},{Header:"maja bpm",accessor:function(e){var t=e.human;return Ge(null===t?null:t.bpm)}},{Header:"dog bpm",accessor:function(e){var t=e.animal;return Ge(null===t?null:t.bpm)}},{Header:"delta bpm",accessor:function(e){var t=e.delta;return Ge(t)}},{Header:"class",accessor:function(e){var t,n=e.actualRank;return t=n,Number.isFinite(t)?t:"NA"}},{Header:"match",accessor:function(e){return e.expectedRank===e.actualRank?"YES":"NO"}},{Header:"trainable",accessor:function(e){return e.trainable?"YES":"NO"}}]}),[]),u=e&&e.filter((function(e){return!1===a||e.valid}))||[],c=e&&e.filter((function(e){return e.trainable}))||[];return c.sort((function(e,t){return e.timestamp-t.timestamp})),l.a.createElement(qe,{as:Ne},l.a.createElement(Qe,null,l.a.createElement("b",null,"4"),l.a.createElement("b",null,"3"),l.a.createElement("b",null,"2"),l.a.createElement("b",null,"1"),l.a.createElement("b",null,"0"),c.map((function(e,t){return l.a.createElement(r.Fragment,{key:t},et(4,e),et(3,e),et(2,e),et(1,e),et(0,e))}))),l.a.createElement(Me,null),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:a,onChange:function(){return i(!a)}})," valid only"),l.a.createElement($e,{columns:o,data:u}))},nt=n(7),at=n(8),rt=function(){function e(t,n,a,r,l,i){Object(nt.a)(this,e),this.p=t,this.ecg=n,this.options=a,this.adDuration=r,this.vdDuration=l,this.vrDuration=i,this.beatDuration=r+l+i,this.nextBeat=1,this.nextBeatIn=1,this.bpm=[],this.voltage=0}return Object(at.a)(e,[{key:"setVoltage",value:function(e){this.voltage=e,this.ecg.addValue({y:this.voltage})}},{key:"atriaDepolarization",value:function(e){var t=this.p,n=t.randomGaussian(5,1)*t.sin(e*(360/this.adDuration));n=n>0?-n:.2*(1-n),this.setVoltage(n+t.noise(e))}},{key:"ventricleDepolarization",value:function(e){var t,n=this.p;t=e<=this.vdDuration/3?n.randomGaussian(8,2)*(this.vdDuration-e)/6:e<2*this.vdDuration/3?-(t=n.randomGaussian(70,2)*n.abs(1.5-(this.vdDuration-e))/3):n.randomGaussian(20,2)*(this.vdDuration-e)/3,this.setVoltage(t)}},{key:"ventricleRepolarization",value:function(e){var t=this.p,n=t.randomGaussian(8,2)*t.sin(180+e*(360/this.vrDuration));n=n<0?.2*(1-n):-n,this.setVoltage(n+t.noise(e))}},{key:"updateBPM",value:function(){var e=this.p;this.bpm.push(3600/this.nextBeat),this.bpm.length>5&&this.bpm.splice(0,1),this.ecg.drawBPM(e.round(this.bpm.reduce((function(e,t){return e+t}),0)/this.bpm.length))}},{key:"updateTimeToNextBeat",value:function(){this.options.bpm>0&&!1===Number.isFinite(this.nextBeatIn)&&(this.nextBeatIn=0),this.nextBeatIn--<=0&&(this.nextBeat=this.nextBeatIn+3600/this.options.bpm,this.updateBPM(),this.nextBeatIn=this.nextBeat)}},{key:"beat",value:function(e){if(this.updateTimeToNextBeat(),e<=this.adDuration)this.atriaDepolarization(e);else if((e-=this.adDuration)<=this.vdDuration)this.ventricleDepolarization(e);else if((e-=this.vdDuration)<=this.vrDuration)this.ventricleRepolarization(e);else{var t=this.p;this.setVoltage(0+5*t.noise(.5*t.draw_i))}}}]),e}(),lt=function(){function e(t,n,a,r,l){Object(nt.a)(this,e),this.p=t,this.color=n,this.graphZero=a,this.values=r,this.maxValuesHistory=l,this.maximumX=l}return Object(at.a)(e,[{key:"addValue",value:function(e){this.values.length>=this.maxValuesHistory&&this.values.splice(0,1),void 0===e.x&&(e.x=(this.values[this.values.length-1].x+1)%this.maximumX),this.values.push(e)}},{key:"plotValues",value:function(){var e=this.p;e.push();for(var t=this.color,n=1;n<this.values.length;n++)if(!(this.values[n-1].x>this.values[n].x)){var a=n/this.values.length;e.stroke(t,a),e.fill(t,a),e.line(this.graphZero.x+this.values[n-1].x,this.graphZero.y+this.values[n-1].y,this.graphZero.x+this.values[n].x,this.graphZero.y+this.values[n].y),n+5>this.values.length&&e.circle(this.graphZero.x+this.values[n].x,this.graphZero.y+this.values[n].y,this.values.length/n*4)}var r=this.values[this.values.length-1];e.stroke(t),e.line(this.graphZero.x+r.x,0,this.graphZero.x+r.x,124),e.pop()}},{key:"updateInfo",value:function(){var e=this.p;this.updateDate(),e.draw_i%50===0&&(this.updateBloodPressure(),this.updateVentilation(),this.updateTemperature(),this.updateHemoglobin())}},{key:"updateHemoglobin",value:function(){this.p}},{key:"updateTemperature",value:function(){this.p}},{key:"updateVentilation",value:function(){this.p}},{key:"updateBloodPressure",value:function(){this.p}},{key:"updateDate",value:function(){new Date}},{key:"drawBPM",value:function(e){}}]),e}(),it=function(e){var t=e.bpm,n=Object(Pe.a)(T),a=Object(r.useRef)(null),i=Object(r.useMemo)((function(){return{}}),[]);return i.bpm=!1===n?t:0,i.color=ae[6],Object(r.useEffect)((function(){if(null!==a.current)return new Ke.a(function(e){return function(t){t.draw_i=0;var n=286,a=new lt(t,t.color(e.color),{x:0,y:100},[{x:0,y:0}],n),r=new rt(t,a,e,12,8,12);t.setup=function(){t.createCanvas(n,124,t.WEBGL),t.colorMode(t.RGB,255,255,255,1),t.angleMode(t.DEGREES)},t.draw=function(){t.translate(-143,-62),++t.draw_i,t.push(),t.noStroke(),t.fill(ae[0]),t.rect(0,0,n,124),t.pop(),r.beat(r.nextBeat-r.nextBeatIn),a.plotValues(),a.updateInfo()}}}(i),a.current).remove}),[a.current]),l.a.createElement("div",{ref:a})};function ot(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 100%;\n  grid-gap: 17px;\n  grid-template-columns: repeat(2, 330px);\n  width: 677px;\n"]);return ot=function(){return e},e}Ke.a.prototype.noiseSeed(123);var ut=function(e,t,n){return e*(n-t)+t},ct=Object(c.e)(),st=Object(c.i)(ct,15),dt=Object(c.e)(),mt=Object(c.i)(dt,20),ft=Object(c.e)(),pt=Object(c.i)(ft,33),ht=Object(c.e)(),gt=Object(c.i)(ht,36.5),bt=function(){var e=Ke.a.prototype.noise(+new Date/1e5);ct(ut(e,12,18)),dt(ut(e,15,30)),ft(ut(e,31,35.5)),ht(ut(e,34,37.2))},vt=ne.a.aside(ot()),xt=function(){var e=Object(Pe.a)(T),t=Object(Pe.a)(F),n=Object(Pe.a)(st),a=Object(Pe.a)(mt),i=Object(Pe.a)(pt),o=Object(Pe.a)(gt);if(Object(r.useMemo)((function(){setTimeout(bt,0)}),[t]),null===t)return l.a.createElement(vt,null,l.a.createElement(Ne,{as:Ae,style:{gridColumn:"2 span"}},"loading iteration"));var u=t.human,c=t.animal,s=t.ended,d=null===u?null:u.bpm,m=null===c?null:c.bpm,f=null===u?[]:u.entries.map((function(e){var t=e.bpm,n=e.date;return{maja:t,date:+new Date(n)}})),p=null===c?[]:c.entries.map((function(e){var t=e.bpm,n=e.date;return{dog:t,date:+new Date(n)}})),h=null===u||0===f.length?null:f[0].date,g=null===u||0===f.length?null:f[f.length-1].date,b=null===c||0===p.length?null:p[0].date,v=null===c||0===p.length?null:p[c.entries.length-1].date;return l.a.createElement(vt,null,l.a.createElement(Ne,null,l.a.createElement(Oe,null,"human"),l.a.createElement(Me,null),l.a.createElement("div",{style:{paddingBottom:11,paddingLeft:22,paddingRight:22,paddingTop:11}},l.a.createElement("img",{src:"Heart_Icon.png",style:{display:"block",height:28}})),l.a.createElement("div",{style:{paddingLeft:22,paddingRight:22}},l.a.createElement(it,{bpm:e||s?0:d||0})),l.a.createElement(Be,{style:{paddingBottom:36,paddingTop:25}},l.a.createElement(we,null,"heart"),l.a.createElement(ke,{human:!0},e||s?"NA":Ge(d)),l.a.createElement(we,null,"bpm")),l.a.createElement(Me,null),l.a.createElement(Be,{style:{paddingBottom:30,paddingTop:24}},l.a.createElement(we,null,"resp"),l.a.createElement(ke,{human:!0},e||s||null===h?"NA":Math.round(n)),l.a.createElement(we,null,"bpm")),l.a.createElement(Be,{style:{paddingBottom:34}},l.a.createElement(we,null,"temp"),l.a.createElement(ke,{human:!0},e||s||null===h?"NA":i.toFixed(1)),l.a.createElement(we,null,"\xb0c")),l.a.createElement(Me,null),l.a.createElement(Te,null,l.a.createElement(we,null,"start"),l.a.createElement(ze,{human:!0},e||null===h?"NA":Object(Le.a)(h,"HH:mm:ss"))),l.a.createElement(Me,null),l.a.createElement(Te,null,l.a.createElement(we,null,"end"),l.a.createElement(ze,{human:!0},e||!1===s||null===g?"NA":Object(Le.a)(g,"HH:mm:ss")))),l.a.createElement(Ne,null,l.a.createElement(Oe,null,"animal"),l.a.createElement(Me,null),l.a.createElement("div",{style:{paddingBottom:11,paddingLeft:22,paddingRight:22,paddingTop:11}},l.a.createElement("img",{src:"Heart_Icon.png",style:{display:"block",height:28}})),l.a.createElement("div",{style:{paddingLeft:22,paddingRight:22}},l.a.createElement(it,{bpm:e||s?0:m||0})),l.a.createElement(Be,{style:{paddingBottom:36,paddingTop:25}},l.a.createElement(we,null,"heart"),l.a.createElement(ke,null,e||s?"NA":Ge(m)),l.a.createElement(we,null,"bpm")),l.a.createElement(Me,null),l.a.createElement(Be,{style:{paddingBottom:30,paddingTop:24}},l.a.createElement(we,null,"resp"),l.a.createElement(ke,null,e||s||null===b?"NA":Math.round(a)),l.a.createElement(we,null,"bpm")),l.a.createElement(Be,{style:{paddingBottom:34}},l.a.createElement(we,null,"temp"),l.a.createElement(ke,null,e||s||null===b?"NA":o.toFixed(1)),l.a.createElement(we,null,"\xb0c")),l.a.createElement(Me,null),l.a.createElement(Te,null,l.a.createElement(we,null,"start"),l.a.createElement(ze,null,e||null===b?"NA":Object(Le.a)(b,"HH:mm:ss"))),l.a.createElement(Me,null),l.a.createElement(Te,null,l.a.createElement(we,null,"end"),l.a.createElement(ze,null,e||!1===s||null===v?"NA":Object(Le.a)(v,"HH:mm:ss")))))},Et=Object(c.e)(),yt=Object(c.i)(Et,4),jt=n(52),Ot=function(){var e=Object(Pe.a)(K);if(null===e)return l.a.createElement(Ae,null,"loading previous iteration");var t=null===e.human?[]:e.human.entries.map((function(e){var t=e.bpm,n=e.date;return{maja:t,date:+new Date(n)}})),n=null===e.animal?[]:e.animal.entries.map((function(e){var t=e.bpm,n=e.date;return{dog:t,date:+new Date(n)}})),r=[].concat(Object(u.a)(t),Object(u.a)(n)).sort((function(e,t){return e.date-t.date})),i=null,o=null,c=r.map((function(e){var t=e.maja||i,n=e.dog||o;return i=t,o=n,Object(a.a)(Object(a.a)({},e),{},{maja:t,dog:n,delta:null===t||null===n?null:Math.abs(t-n)})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(De,{style:{height:"443px"}},l.a.createElement(jt.d,{width:"100%",height:"100%"},l.a.createElement(jt.c,{data:c,margin:{top:40,right:0,bottom:5,left:10}},l.a.createElement(jt.a,{stroke:ae[1],strokeDasharray:"5 5"}),l.a.createElement(jt.b,{yAxisId:"left",type:"monotone",dataKey:"maja",dot:!1,stroke:"#D93D04",connectNulls:!0,isAnimationActive:!1}),l.a.createElement(jt.b,{yAxisId:"left",type:"monotone",dataKey:"dog",dot:!1,stroke:"#C66B45",connectNulls:!0,isAnimationActive:!1}),l.a.createElement(jt.b,{yAxisId:"left",type:"monotone",dataKey:"delta",dot:!1,stroke:ae[5],connectNulls:!0,isAnimationActive:!1}),l.a.createElement(jt.f,{dataKey:"date",tickFormatter:function(e){return Object(Le.a)(e,"HH:mm:ss")},isAnimationActive:!1}),l.a.createElement(jt.g,{yAxisId:"left",type:"number",unit:"bpm",isAnimationActive:!1,stroke:ae[5]}),l.a.createElement(jt.e,{labelFormatter:function(e){return Object(Le.a)(e,"HH:mm:ss")},formatter:function(e){return"".concat(e,"bpm")},contentStyle:{backgroundColor:ae[4],border:"1px solid ".concat(ae[1]),color:ae[5]},isAnimationActive:!1})))),l.a.createElement(Me,null),l.a.createElement(Te,{small:!0},l.a.createElement(we,{style:{width:130}},"avg human"),l.a.createElement("img",{src:"Heart_Icon.png",style:{width:21}}),l.a.createElement(Se,null),l.a.createElement(ze,{style:{width:50,color:"#D93D04"}},Ge(null===e.human?null:e.human.bpm))),l.a.createElement(Me,null),l.a.createElement(Te,{small:!0},l.a.createElement(we,{style:{width:130}},"avg animal"),l.a.createElement("img",{src:"Heart_Icon.png",style:{width:21}}),l.a.createElement(Se,null),l.a.createElement(ze,{style:{width:50,color:"#C66B45"}},Ge(null===e.animal?null:e.animal.bpm))),l.a.createElement(Me,null),l.a.createElement(Te,{small:!0},l.a.createElement(we,{style:{width:130}},"avg delta"),l.a.createElement("img",{src:"Heart_Icon.png",style:{width:21}}),l.a.createElement(Se,null),l.a.createElement(ze,{style:{width:50,color:ae[5]}},Ge(e.delta))))},wt=n(320),zt=n(6),kt=n(37),St=x.map((function(e){if(null===e)return null;var t=kt.sequential({layers:[kt.layers.conv2d({batchInputShape:[null,e.x,e.y,e.z],kernelSize:5,filters:16,strides:2,activation:"relu",kernelInitializer:"varianceScaling"}),kt.layers.flatten(),kt.layers.dense({units:5,kernelInitializer:"varianceScaling",activation:"softmax"})]});return t.compile({loss:"categoricalCrossentropy",metrics:["accuracy"],optimizer:kt.train.adam()}),t})),At=Object(c.e)(),Nt=(Object(c.i)(At,0),Object(c.e)()),Bt=Object(c.i)(Nt,0),Tt=Object(c.e)(),Dt=Object(c.i)(Tt,-1),Ht=function(){var e=Object(_e.a)(Re.a.mark((function e(t,n){var a,r,l;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,l={_id:"".concat(r=+a),title:a.toISOString(),data:t,expectedRank:n,attempts:Bt.getState(),timestamp:r},console.log("saveIteration",l),e.next=6,fetch("https://heartrate.miran248.now.sh/api/iteration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 6:U();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mt=["0 - 4","5 - 9","10 - 19","20 - 39","40 - inf"],Ct=null,It=Object(c.d)();It.use(function(){var e=Object(_e.a)(Re.a.mark((function e(t){var n,a,r,l,i,o,u,c,s,m,f,p,h;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rank,setTimeout((function(){return Et(3)}),0),a=x.getState(),r=d.getState(),u=0,c=Kt=-1,Tt(Kt);case 7:return++u,Nt(u),o=S(),s=N(r,A(r,o)),m=(_t=s).map((function(e){return Math.max(0,e-1)})),f=kt.tensor([m],[1,a.x,a.y,a.z],"int32"),i=St.getState().predict(f),p=i.argMax(1),e.next=18,p.data();case 18:return l=e.sent,c=l[0],Zt=0,h=new Promise((function(e,t){return Ct=e})),Rt.loop(),e.next=25,h;case 25:Rt.noLoop(),Tt(Kt=c),Rt.redraw();case 28:if(Kt!==n){e.next=7;break}case 29:return e.next=31,Ht(o,n);case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),It.pending.watch((function(e){e&&B(!0)})),It.fail.watch((function(e){console.error("find error",e)})),It.done.watch((function(){setTimeout((function(){Et(4),B(!1)}),0)}));var Rt,_t,Ft,Lt,Pt=[7,7],Vt=[[0,-168,84,0],[0,-84,84,0],[0,0,84,0],[0,84,84,0],[0,168,84,0]],Gt=[[49,0,364,-168],[49,0,364,-84],[49,0,364,0],[49,0,364,84],[49,0,364,168]],Zt=1.1,Kt=-1,Xt=function(){var e=Object(Pe.a)(x),t=Object(Pe.a)(F),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(null!==n.current&&null!==t)return!1===T.getState()&&(_t=t.combined,Nt(t.attempts||0),Tt(Kt=t.expectedRank)),(Rt=new Ke.a(function(e){return function(t){var n=w.getState(),a=14*((e.y+1)*e.z-1);t.setup=function(){t.createCanvas(462,a,t.CANVAS),t.noLoop(),t.textAlign(t.CENTER,t.CENTER),t.stroke(ae[1])},t.draw=function(){var r,l,i=_t.length,o=Math.floor(Zt*i);t.textSize(8.4);for(var u=0;u<i;++u){var c=z(e,u);r=14*c.x,l=14*c.y;var s=c.z*(e.y+1)*14,d=ae[0];2===_t[u]?d=u<o?ae[8]:ae[1]:1===_t[u]&&(d=ae[1]),u===o?t.fill(ae[6]):t.fill(d),t.rect(r,l+s,14,14),t.fill(ae[0]),n[u]>0&&t.text(n[u],r+Pt[0],l+s+Pt[1])}r=98,l=.5*a;for(var m=0;m<5;++m)m===Math.floor(5*Zt)?t.stroke(ae[8]):t.stroke(ae[1]),t.line(r+Vt[m][0],l+Vt[m][1],r+Vt[m][2],l+Vt[m][3]),t.stroke(ae[1]);r=231,l=.5*a,t.fill(ae[4]),t.rect(r-49,l-35,98,70);for(var f=0;f<5;++f)f===Kt?t.stroke(ae[8]):t.stroke(ae[1]),t.line(r+Gt[f][0],l+Gt[f][1],Gt[f][2],l+Gt[f][3]),t.stroke(ae[1]);t.fill(ae[1]),t.textSize(28),t.text("CNN",r,l);for(var p=0;p<5;++p)r=364,l=0+84*p,p===Kt?t.fill(ae[8]):t.fill(ae[0]),t.rect(r,l,98,70),p===Kt?t.fill(ae[0]):t.fill(ae[3]),t.line(r,l+28,r+98,l+28),t.textSize(14*1.6),t.text(p,r+49,l+14),t.textSize(14),t.text("".concat(Mt[p],"\nBPM DELTA"),r+49,l+49);Zt<1?Zt+=.005:null!==Ct&&(Ct(),Ct=null)}}}(e),n.current)).remove}),[n.current,t]),l.a.createElement("div",{ref:n})};function Jt(e,t,n){return null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=[]),e[t][n]}Object(c.b)(Q,x,(function(e,t){if(null!==e&&null!==t){var n=e.filter((function(e){return e.trainable})),a=n.map((function(e){return e.layout}));Ft=kt.tensor(a,[a.length,t.x,t.y,t.z],"int32");var r=n.map((function(e){return e.output}));Lt=kt.tensor(r,[a.length,5],"int32")}}));var Wt=Object(c.e)(),Yt=Object(c.i)(Wt,null),qt=Object(c.d)();qt.use(Object(_e.a)(Re.a.mark((function e(){var t,n,a,r,l;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){return Et(1)}),0),setTimeout((function(){return Et(2)}),1e4),t=St.getState(),n=["loss","val_loss","acc","val_acc"],a={},r={xLabel:"",yLabel:""},e.next=8,t.fit(Ft,Lt,{epochs:250,shuffle:!0,callbacks:{onEpochEnd:function(){var e=Object(_e.a)(Re.a.mark((function e(){var t,l,i,o,u,c,s,d,f,p,h,g,b=arguments;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=b.length,l=new Array(t),i=0;i<t;i++)l[i]=b[i];o=l[0],u=l[1],At((o+1)/250),c="onEpochEnd",s=[],d=[],f=Object(m.a)(n);try{for(f.s();!(p=f.n()).done;)h=p.value,null!=u[h]&&(d.push(h),(g=Jt(a,c,h)).push(Object(zt.a)({},h,u[h])),s.push(g))}catch(v){f.e(v)}finally{f.f()}return Wt({metricLogs:s,presentMetrics:d,historyOpts:r}),e.next=12,kt.nextFrame();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}});case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})))),qt.pending.watch((function(e){e&&B(!0)})),qt.fail.watch((function(e){console.error("train error",e)})),qt.done.watch((function(){It({rank:0})}));var Qt=function(){var e=Object(Pe.a)(T);return l.a.createElement(l.a.Fragment,null,l.a.createElement(He,{onClick:qt,disabled:e},e?"training ...":"start new"))};function Ut(){var e=Object($.a)(["\n  filter: invert(1);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n\n  * {\n    border: none;\n    margin: 0;\n  }\n"]);return Ut=function(){return e},e}var $t=ne.a.div(Ut()),en=function(){var e=Object(Pe.a)(Yt),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(null!==t.current&&null!==e){var n=e.metricLogs,a=e.presentMetrics,r=e.historyOpts;wt.show.history(t.current,n,a,r)}}),[t.current,e]),l.a.createElement(l.a.Fragment,null,l.a.createElement(De,{style:{flexDirection:"row",position:"relative"}},l.a.createElement(Te,{style:{borderBottom:"1px solid ".concat(ae[1]),justifyContent:"space-around",left:0,position:"absolute",transform:"rotate(-90deg)",transformOrigin:"146px 146px",width:533,zIndex:1}},l.a.createElement(we,{style:{fontSize:15,textTransform:"initial"}},"Training accuracy"),l.a.createElement(we,{style:{fontSize:15,color:ae[1]}},"|"),l.a.createElement(we,{style:{fontSize:15,textTransform:"initial"}},"Training loss")),l.a.createElement($t,{style:{paddingLeft:33,position:"absolute",left:33,right:0,top:0,bottom:0,justifyContent:"space-around"},ref:t})),l.a.createElement(Me,null),l.a.createElement(Te,{style:{justifyContent:"center"}},l.a.createElement(we,{style:{fontSize:15,textTransform:"initial"}},"Training progress through time (EPOCHS)")))},tn=function(){Object(Pe.a)(Bt),Object(Pe.a)(Dt);return l.a.createElement(l.a.Fragment,null,l.a.createElement(De,{style:{padding:52}},l.a.createElement(Xt,null)),l.a.createElement(Me,null),l.a.createElement(Te,null,l.a.createElement(we,{style:{fontSize:15}},"installation map"),l.a.createElement(we,{style:{fontSize:15,color:ae[1]}},"|"),l.a.createElement(we,{style:{fontSize:15}},"hidden layers"),l.a.createElement(we,{style:{fontSize:15,color:ae[1]}},"|"),l.a.createElement(we,{style:{fontSize:15}},"matching classes")))},nn=function(){var e=Object(Pe.a)(F),t=Object(Pe.a)(x),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(null!==n.current&&null!==e)return new Ke.a(function(e,t){return function(n){n.setup=function(){n.createCanvas(750,421.875,n.WEBGL),n.frameRate(12)},n.draw=function(){for(var a in n.clear(),n.ambientLight(255,255,255),n.rotateX(-.6),n.rotateY(.01*n.mouseX),n.translate(-30*t.x,-30*t.y,-30*t.z),e)if(0!==e[a]){var r=z(t,a),l=r.x,i=r.y,o=r.z;n.push(),n.translate(60*(l+.5),60*(o+.5),60*(i+.5)),n.rotateX(-.5*n.PI),2===e[a]?n.fill(51,51,51):1===e[a]&&n.fill(153,153,153),n.plane(60),n.pop()}var u,c=E.getState(),s=Object(m.a)(c.edgeEntries());try{for(s.s();!(u=s.n()).done;){var d=Object(f.a)(u.value,6),p=(d[0],d[1],d[2]),h=d[3],g=(d[4],d[5],z(t,+p)),b=z(t,+h);n.push(),n.strokeWeight(2),n.stroke(0,102,255),n.line(60*(g.x+.5),60*(g.z+.5),60*(g.y+.5),60*(b.x+.5),60*(b.z+.5),60*(b.y+.5)),n.pop()}}catch(v){s.e(v)}finally{s.f()}}}}(e.combined,t),n.current).remove}),[n.current,e]),null===e?l.a.createElement("div",null,l.a.createElement("a",{href:"#pick"},"pick iteration")):l.a.createElement("div",{ref:n})},an=function(){var e=Object(Pe.a)(F);return null===e?l.a.createElement(Ae,null,"loading 3d preview"):l.a.createElement(l.a.Fragment,null,l.a.createElement(De,null,l.a.createElement(nn,null),l.a.createElement(Qt,null)),l.a.createElement(Se,null),l.a.createElement(Me,null),l.a.createElement(Te,{small:!0,style:{alignItems:"start",flexDirection:"column",gap:10,height:"initial",paddingBottom:17,paddingTop:18}},l.a.createElement(we,null,"map"),l.a.createElement(Xe,{layout:e.combined})),l.a.createElement(Me,null),l.a.createElement(Te,{small:!0},l.a.createElement(we,null,"status"),l.a.createElement(ze,{style:{fontSize:20}},e.ended?"ended":"in progress")))};function rn(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 100%;\n  grid-gap: 17px;\n  overflow-y: auto;\n  width: 606px;\n"]);return rn=function(){return e},e}function ln(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 100%;\n  grid-gap: 17px;\n  grid-template-columns: repeat(2, 1fr);\n  height: 639px;\n"]);return ln=function(){return e},e}var on=ne.a.div(ln()),un=ne.a.main(rn()),cn=function(){var e=Object(Pe.a)(yt);return l.a.createElement(on,null,l.a.createElement(xt,null),l.a.createElement(un,null,e>3&&l.a.createElement(Ne,{id:"phase-4"},l.a.createElement(Oe,null,"phase 4_current climbing layout"),l.a.createElement(Me,null),l.a.createElement(an,null)),e>2&&l.a.createElement(Ne,{id:"phase-3"},l.a.createElement(Oe,null,"phase 3_neural network rendering new map"),l.a.createElement(Me,null),l.a.createElement(tn,null)),e>1&&l.a.createElement(Ne,{id:"phase-2"},l.a.createElement(Oe,null,"phase 2_training model w. neural network"),l.a.createElement(Me,null),l.a.createElement(en,null)),e>0&&l.a.createElement(Ne,{id:"phase-1"},l.a.createElement(Oe,null,"phase 1_previous climbing data"),l.a.createElement(Me,null),l.a.createElement(Ot,null))))};function sn(){var e=Object($.a)(["\n  display: grid;\n  grid-auto-flow: row;\n  grid-auto-rows: 100%;\n  grid-gap: 17px;\n  grid-template-columns: 1fr;\n  height: 639px;\n"]);return sn=function(){return e},e}var dn=ne.a.div(sn()),mn=function(){var e=Object(Pe.a)(F);return null===e?l.a.createElement(dn,null,l.a.createElement(Ne,null,l.a.createElement(Ae,null,"loading preview"))):l.a.createElement(dn,null,l.a.createElement(Ne,null,l.a.createElement(De,{style:{display:"block"}},l.a.createElement(Xe,{layout:e.combined}))))};function fn(){var e=Object($.a)(["\n  display: grid;\n  grid-gap: 22px;\n  height: 750px;\n  padding-bottom: 22px;\n  padding-left: 17px;\n  padding-right: 17px;\n  transform-origin: 0 0;\n  width: 1334px;\n"]);return fn=function(){return e},e}var pn=document.getElementById("root"),hn=function(){var e=document.getElementById("content"),t=pn.getBoundingClientRect(),n=t.width/1334,a=t.height/750;e.style.transform="scale(".concat(n,", ").concat(a,")")};window.addEventListener("resize",hn);var gn=ne.a.div(fn()),bn=function(){return Object(r.useEffect)(hn,[]),l.a.createElement(gn,{id:"content"},l.a.createElement(ee.a,{basename:"/non-brute-force-ui"},l.a.createElement(Ce,null),l.a.createElement(te.d,null,l.a.createElement(te.b,{path:"/",exact:!0},l.a.createElement(cn,null)),l.a.createElement(te.b,{path:"/archive",exact:!0},l.a.createElement(tt,null)),l.a.createElement(te.b,{path:"/dictionary",exact:!0},l.a.createElement(mn,null)),l.a.createElement(te.b,{path:"*"},l.a.createElement(te.a,{to:"/"})))))},vn=(n(641),{iterations:[{title:"2020-05-26 1",data:[3,4,6,7,9,11,12,14,15,24,27,29,31,34,36,38,39,44,46,48,49,51,53,54,57,59,61,62,63,64,70,72],george:89,maja:104},{title:"2020-05-27 1",data:[1,3,4,5,7,9,11,12,13,15,19,24,28,29,32,35,36,40,41,46,48,49,51,54,57,59,61,62,68,70,72],maja:93,george:80},{title:"2020-05-27 2",data:[1,3,4,5,8,10,11,12,13,15,19,24,28,29,35,38,40,41,43,46,48,50,51,55,56,59,61,62,68,70,72],maja:90,george:82},{title:"2020-06-02 1",data:[3,4,5,7,9,12,13,15,17,19,24,26,30,31,34,36,38,40,43,46,48,50,51,55,57,59,60,61,66,68,70,72],maja:93,george:92},{title:"2020-06-02 2",data:[3,4,5,7,9,11,12,16,17,19,26,27,29,31,34,36,40,43,48,49,52,55,57,59,60,61,62,68,70,72],maja:97,george:142},{title:"2020-06-02 3",data:[3,4,5,7,9,11,12,13,15,17,19,24,26,29,30,34,36,38,40,43,46,48,49,50,54,57,59,61,62,68,70,71,72],maja:92,mala:81},{title:"2020-06-02 4",data:[3,4,5,7,10,11,12,15,17,19,24,26,29,30,34,36,38,41,43,46,48,49,52,54,57,59,60,61,68,70,71,72],maja:86,mala:88},{title:"2020-06-03 1",data:[3,4,5,7,9,11,12,15,16,20,26,28,29,30,32,36,39,41,43,46,48,49,52,54,56,59,60,61,63,69,70,71],maja:95,mala:154},{title:"2020-06-03 2",data:[3,4,5,8,9,11,13,14,17,20,25,28,29,31,33,36,37,41,43,46,48,49,52,56,57,59,62,63,64,65,70,71],maja:99,mala:87},{title:"2020-06-03 3",data:[3,4,5,9,10,11,13,14,17,20,25,26,30,32,33,36,38,41,43,46,48,49,52,55,57,59,60,61,63,70,71,72],maja:98,george:96},{title:"2020-06-03 4",data:[3,4,5,9,10,11,13,14,17,20,25,26,30,32,33,36,40,41,43,46,47,48,49,52,55,57,59,61,62,63,70,71,72],maja:93,george:119},{title:"2020-06-03 6",data:[3,4,5,7,10,11,12,15,17,20,25,26,29,31,34,36,38,41,45,46,48,49,51,55,57,59,60,61,66,68,70,72],maja:92,ada:69},{title:"2020-06-04 1",data:[3,4,5,7,9,11,13,15,17,20,24,25,27,29,30,32,33,39,43,44,48,49,50,51,56,59,60,61,62,68,70,72],maja:92,ada:96},{title:"2020-06-04 2",data:[3,4,5,8,9,11,13,15,17,19,24,25,29,32,34,38,40,41,43,46,47,48,49,52,53,57,60,61,64,68,71,73],maja:87,george:93},{title:"2020-06-04 4",data:[3,4,5,7,8,11,13,15,17,20,24,27,29,30,34,38,40,41,45,46,48,51,52,54,57,59,61,63,64,70,71,73],maja:97,ada:98},{title:"2020-06-05 3",data:[3,4,5,7,10,11,12,14,15,19,25,27,29,31,34,37,40,41,43,48,49,52,55,57,59,62,65,68,69,71,73],maja:93,george:124},{title:"2020-06-05 4",data:[3,4,5,7,10,11,14,16,19,26,27,29,31,34,36,40,41,46,48,51,52,55,57,59,61,62,64,65,68,71],maja:86,george:150},{title:"2020-06-05 5",data:[3,4,5,7,10,11,12,13,15,20,26,27,31,32,34,36,39,41,44,46,51,52,54,56,59,61,62,63,65,69,71],maja:95,ada:90},{title:"2020-06-08 2",data:[3,4,5,7,10,11,12,16,17,20,24,27,31,32,34,36,38,41,43,48,49,52,55,57,59,61,62,63,64,66,69],maja:90,george:117},{title:"2020-06-08 3",data:[3,4,5,7,10,11,12,16,17,20,24,26,31,32,34,36,38,41,43,48,49,51,55,57,59,61,62,63,64,66,69,70],maja:97,mala:98},{title:"2020-06-08 4",data:[3,4,5,9,10,11,12,16,17,20,24,25,31,33,34,36,38,41,46,48,49,52,55,57,59,60,63,64,65,66,70],maja:105,mala:133},{title:"2020-06-09 2",data:[3,4,5,8,9,11,12,14,16,19,24,28,29,30,35,39,40,41,45,48,50,52,54,56,59,60,63,65,69,70,71],maja:89,george:153},{title:"2020-06-11 1",data:[1,3,5,7,10,11,13,15,16,20,24,25,30,32,35,36,37,39,44,48,50,51,54,56,59,60,62,63,65,70,72],maja:140,george:119},{title:"2020-06-11 2",data:[1,3,5,7,9,10,11,13,16,20,24,27,30,32,35,36,37,39,46,48,49,52,54,56,59,61,62,63,69,70,71],maja:97,mala:116},{title:"2020-06-12 1",data:[1,3,4,7,10,12,14,15,16,20,24,25,30,34,35,36,37,39,43,49,50,51,52,54,57,59,62,63,69,70,71,73],maja:106,george:106},{title:"2020-06-12 2",data:[1,3,4,7,10,11,12,15,16,20,26,27,30,34,35,37,38,39,43,44,50,51,52,54,57,59,61,62,63,71,73],maja:125,george:125},{title:"2020-06-15 1",data:[1,3,5,8,9,11,13,14,16,21,26,27,30,34,35,38,39,40,43,44,48,49,51,55,57,59,61,66,68,69,70,71],maja:80,george:176},{title:"2020-06-15 2",data:[1,3,4,8,10,11,12,15,16,20,26,27,30,34,35,38,39,40,43,44,48,49,52,55,56,59,61,64,66,68,70,71],maja:84,george:140},{title:"2020-06-18 3",data:[1,3,4,9,10,11,12,13,16,20,25,26,32,34,35,36,40,41,43,45,49,51,52,56,57,59,60,62,64,65,68,70],maja:116,george:157},{title:"2020-06-18 4",data:[1,3,4,9,10,11,12,13,17,21,25,26,30,34,35,36,40,41,43,46,49,51,52,56,57,59,60,61,62,64,65,68],maja:107,ada:97},{title:"2020-06-18 5",data:[3,5,9,10,11,13,16,17,21,26,27,32,34,35,36,40,41,43,44,50,51,52,56,57,59,60,61,62,64,65,68],maja:108,ada:120},{title:"2020-06-19 3",data:[1,3,4,7,8,11,13,14,16,20,21,27,28,29,30,34,36,40,41,43,44,49,50,51,56,57,59,60,61,64,65,68,71],maja:76,george:144},{title:"2020-06-19 4",data:[1,3,4,7,8,11,13,14,16,20,21,27,28,29,34,35,36,37,38,43,44,49,51,52,55,57,59,60,61,62,64,68,70],maja:118,ada:97},{title:"2020-06-22 1",data:[1,3,4,7,8,11,12,13,16,20,27,28,31,34,35,37,39,40,44,45,49,51,52,55,57,59,60,62,64,68,70,73],maja:89,ada:72},{title:"2020-06-22 2",data:[1,3,4,7,8,11,13,14,16,20,27,28,29,34,35,37,39,40,43,45,49,51,52,55,57,59,60,62,64,68,70,73],maja:84,ada:92},{title:"2020-06-22 3",data:[1,3,4,8,9,11,13,14,16,20,26,28,30,34,35,37,39,40,43,46,49,51,52,55,57,59,60,62,64,68,70,73],maja:86,george:90},{title:"2020-06-22 4",data:[1,2,4,8,9,11,12,14,17,20,25,28,30,33,35,37,39,40,45,46,48,51,52,55,56,59,60,64,68,70,71,73],maja:86,george:85},{title:"2020-06-23 1",data:[1,2,4,8,10,11,12,16,17,21,26,28,29,32,35,36,39,40,44,46,49,50,52,54,56,59,60,65,66,68,72,73],maja:81,george:167},{title:"2020-06-23 2",data:[1,2,4,7,10,11,12,16,17,21,26,28,29,33,35,36,39,40,44,46,48,50,52,54,56,59,60,65,66,68,69,73],maja:90,george:88},{title:"2020-06-23 3",data:[1,2,5,7,10,11,12,16,17,21,26,28,29,33,35,36,39,40,44,46,48,50,52,55,56,59,60,61,62,68,69,73],maja:85,ada:123},{title:"2020-06-23 4",data:[1,2,4,7,10,11,12,16,17,21,24,28,29,31,35,36,39,40,44,46,48,50,52,55,56,59,60,61,66,68,72,73],maja:85,ada:90},{title:"2020-06-26 3",data:[1,2,5,9,10,11,12,13,17,21,24,25,29,32,35,36,39,40,45,46,49,51,52,54,56,59,60,66,68,69,70,73],maja:83,ada:143},{title:"2020-06-26 4",data:[1,2,4,8,10,11,14,15,17,19,25,26,30,32,34,36,37,38,45,46,50,51,52,56,57,59,60,61,62,68,69,70],maja:96,ada:92},{title:"2020-06-29 3",data:[1,2,4,8,10,11,12,13,17,21,24,27,30,32,34,36,39,40,43,50,51,52,56,57,59,60,61,62,65,68,72],maja:76,ada:180},{title:"2020-06-30 2",data:[1,2,4,7,10,11,12,13,17,21,24,26,30,31,34,36,39,40,44,45,48,51,52,55,59,60,62,68,70,72,73],maja:85,ada:101},{title:"2020-07-02 3",data:[1,2,4,9,10,12,13,16,17,21,24,26,30,32,35,36,39,40,43,46,48,50,51,55,56,59,61,63,64,65,66,71],maja:90,ada:167},{title:"2020-07-02 4",data:[1,2,4,9,10,12,13,15,17,20,24,26,30,32,35,36,39,40,43,46,48,50,51,55,56,59,61,63,64,65,66,71],maja:90,ada:97}],layout:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0],size:{x:7,y:5,z:5}});D(vn.iterations.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{timestamp:+new Date(e.title.split(" ")[0]),valid:!0})}))),s(vn.layout),v(vn.size),o.a.render(l.a.createElement(bn,null),document.getElementById("root"))}},[[368,1,2]]]);
//# sourceMappingURL=main.6a8220d1.chunk.js.map