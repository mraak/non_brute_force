(this["webpackJsonprandom-wok"]=this["webpackJsonprandom-wok"]||[]).push([[0],{161:function(e,t,a){e.exports=a(263)},169:function(e,t){},170:function(e,t){},181:function(e,t){},184:function(e,t){},185:function(e,t){},263:function(e,t,a){"use strict";a.r(t);var n=a(32),r=(a(115),a(162),a(16)),i=a.n(r),o=a(129),l=a.n(o),c=a(2),u=a.n(c),s=a(9),d=a(11),m=a(14),f=a(24),g=Object(f.e)(),p=Object(f.i)(g,null),v=Object(f.d)();v.use((function(){return fetch("https://heartrate.miran248.now.sh/api/aggregates")})),v.done.watch(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,a=t.result,e.next=3,a.json();case 3:n=e.sent,r=n.aggregates,g(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v();var b=Object(f.e)(),j=Object(f.i)(b,null),h=a(5),y=[[[1,1,1],[1,2,3],[1,4,5]],[[2,7,10],[4,11,17],[1,19,21]],[[2,24,28],[3,29,35],[3,36,41]],[[2,43,46],[3,48,52],[2,54,57],[1,59,59]],null],x=[null,null,null,null,[[1,63,68],[1,64,72],[2,61,73],[2,60,71]]],E=a(130),O=a.n(E),w=Object(f.e)(),z=Object(f.i)(w,null),k=Object(f.b)(j,z,(function(e,t){if(null===e||null===t)return null;var a=new O.a({allowSelfLoops:!1,edgeKeyGenerator:function(e){e.undirected;var t=e.source,a=e.target;e.attributes;return"".concat(t,"->").concat(a)},multi:!0,type:"directed"}),r=0;for(var i in e)if(0!==e[i]){var o=Object(n.a)(Object(n.a)({},R(t,i)),{},{i:i,id:++r});a.addNode(i,o)}var l,c=Object(h.a)(a.nodeEntries());try{for(c.s();!(l=c.n()).done;){var u=Object(s.a)(l.value,2),d=u[0],m=u[1];if(m.x<t.x-1){var f=T(t,m.x+1,m.y,m.z);a.hasNode(f)&&a.addEdge(d,f,{x:1,y:0,z:0})}if(m.y<t.y-1){var g=T(t,m.x,m.y+1,m.z);a.hasNode(g)&&a.addEdge(d,g,{x:0,y:1,z:0})}if(m.x>0){var p=T(t,m.x-1,m.y,m.z);a.hasNode(p)&&a.addEdge(d,p,{x:-1,y:0,z:0})}if(m.y>0){var v=T(t,m.x,m.y-1,m.z);a.hasNode(v)&&a.addEdge(d,v,{x:0,y:-1,z:0})}if(m.z<t.z-1){if(m.x<t.x-1){var b=T(t,m.x+1,m.y,m.z+1);a.hasNode(b)&&a.addEdge(d,b,{x:1,y:0,z:1})}if(m.y<t.y-1){var j=T(t,m.x,m.y+1,m.z+1);a.hasNode(j)&&a.addEdge(d,j,{x:0,y:1,z:1})}if(m.x>0){var y=T(t,m.x-1,m.y,m.z+1);a.hasNode(y)&&a.addEdge(d,y,{x:-1,y:0,z:1})}if(m.y>0){var x=T(t,m.x,m.y-1,m.z+1);a.hasNode(x)&&a.addEdge(d,x,{x:0,y:-1,z:1})}}}}catch(E){c.e(E)}finally{c.f()}return a})),S=Object(f.b)(k,z,(function(e,t){if(null===e||null===t)return null;var a,n=0,r={},i={},o=function(a){var n=e.getNodeAttributes(a);n.x<t.x-1&&l(a,T(t,n.x+1,n.y,n.z)),n.y<t.y-1&&l(a,T(t,n.x,n.y+1,n.z)),n.x>0&&l(a,T(t,n.x-1,n.y,n.z)),n.y>0&&l(a,T(t,n.x,n.y-1,n.z))},l=function(t,a){t in r&&a in r||e.hasNode(a)&&e.hasEdge(t,a)&&(t in r||(r[t]=++n,i[r[t]]=[+t]),a in r||(r[a]=r[t],i[r[a]].push(+a)),o(a))},c=Object(h.a)(e.nodes());try{for(c.s();!(a=c.n()).done;){var u=a.value;o(+u)}}catch(s){c.e(s)}finally{c.f()}return[i,r]})),M=S.map((function(e){if(null===e)return null;var t=Object(s.a)(e,2),a=t[0];t[1];for(var n in a)a[n].sort();return a})),N=S.map((function(e){if(null===e)return null;var t=Object(s.a)(e,2);t[0];return t[1]})),C=j.map((function(e){if(!e)return null;var t=0;return e.map((function(e){return 0===e?0:++t}))}));function A(e,t){var a=Object(s.a)(t,4),n=a[0],r=a[1],i=a[2],o=a[3];return e.mouseX>n&&e.mouseX<n+i&&e.mouseY>r&&e.mouseY<r+o}function R(e,t){var a=e.x*e.y,n=Math.floor(t/a);t-=n*a;var r=Math.floor(t/e.x);return{x:t-r*e.x,y:r,z:n}}function T(e,t,a,n){return n*e.x*e.y+a*e.x+t}var _=function(e){M.getState();for(var t=N.getState(),a=k.getState(),n=C.getState(),r=z.getState(),i=Object.fromEntries(Object.keys(t).map((function(e){return[n[e],e]}))),o=function(e,t){for(var o=[e],l=e;l!==t;){var c=a.getNodeAttributes(i[l]);l=n[T(r,c.x+1,c.y,c.z)],o=[].concat(Object(d.a)(o),[l])}return o},l=function(e,t){for(var o=[e],l=e;l!==t;){var c=a.getNodeAttributes(i[l]);l=n[T(r,c.x,c.y+1,c.z)],o=[].concat(Object(d.a)(o),[l])}return o},c=function(e){return e[Math.floor(Math.random()*e.length)]},u=function(e,t,i,o){if(!(t.x<0||t.y<0||t.x>=r.x||t.y>=r.y)){var l=T(r,t.x,t.y,t.z);if(!a.hasEdge(e,l)||i.indexOf(n[l])<0){var c=T(r,t.x,t.y,t.z+1);a.hasEdge(e,c)&&o.indexOf(n[c])<0&&o.push(n[c])}}},m=[],f=[],g=0;g<5;++g){var p,v=y[g]||x[g],b=[],j=Object(h.a)(v);try{var E=function(){var e=Object(s.a)(p.value,3),t=e[0],a=e[1],n=e[2],r=0===a?null:y[g]?o(a,n):l(a,n),i=[];if(f.length>0)if(0===a){if(f.indexOf(n)>-1)i.push(n);else for(var u=0;u<t;++u){var m=0;do{m=0===a?[a,n][Math.round(Math.random())]:c(r)}while(i.indexOf(m)>-1);m>0&&i.push(m)}}else{var v=f.filter((function(e){return r.indexOf(e)>-1}));if(v.length>0)for(var j=0;j<t;++j){var h=0;do{h=Math.random()<.5?v[Math.floor(Math.random()*v.length)]:c(r)}while(i.indexOf(h)>-1);i.push(h)}else for(var x=0;x<t;++x){var E=0;do{E=0===a?[a,n][Math.round(Math.random())]:c(r)}while(i.indexOf(E)>-1);E>0&&i.push(E)}}else for(var O=0;O<t;++O){var w=0;do{w=0===a?[a,n][Math.round(Math.random())]:c(r)}while(i.indexOf(w)>-1);w>0&&i.push(w)}b=[].concat(Object(d.a)(b),i)};for(j.s();!(p=j.n()).done;)E()}catch(_){j.e(_)}finally{j.f()}f=[];for(var O=0,w=b;O<w.length;O++){var S=w[O],A=i[S],R=a.getNodeAttributes(A);u(A,{x:R.x+1,y:R.y,z:R.z},b,f),u(A,{x:R.x,y:R.y+1,z:R.z},b,f),u(A,{x:R.x-1,y:R.y,z:R.z},b,f),u(A,{x:R.x,y:R.y-1,z:R.z},b,f)}m=[].concat(Object(d.a)(m),Object(d.a)(b))}return m.sort((function(e,t){return e-t})),m},L=function(e,t){var a=0;return e.map((function(e){return 0===e?0:t.indexOf(++a)>-1?1:0}))},X=function(e,t){return e.map((function(e,a){return e+t[a]}))},I=function(e,t){var a,n;if(void 0!==t&&"_id"in e){var r=t.devices;if(a=r["Maja\u2019s iPhone"],n=r["Ada\u2019s iPhone"],a&&n)a=a[Object.keys(a)[0]].bpm,n=n[Object.keys(n)[0]].bpm;else if(a){var i=Object.keys(a);if(i.length>=2){var o=a;a=o[i[0]].bpm,n=o[i[1]].bpm}}else if(n){var l=Object.keys(n);if(l.length>=2){var c=n;a=c[l[0]].bpm,n=c[l[1]].bpm}}}else a=e.maja,n=function(e){var t=[];"dog"in e&&t.push(e.dog),"george"in e&&t.push(e.george),"boogie"in e&&t.push(e.boogie),"mala"in e&&t.push(e.mala),"ada"in e&&t.push(e.ada);var a=t.length;return 0===a?NaN:t.reduce((function(e,t){return e+t}),0)/a}(e);return[a,n]},P=Object(f.e)(),Y=Object(f.i)(P,null),J=Object(f.d)();J.use((function(){return fetch("https://heartrate.miran248.now.sh/api/iterations")})),J();var D=Object(f.i)(J.done,null);Object(f.b)(j,Y,D,p,function(){var e=Object(m.a)(u.a.mark((function e(t,a,r,i){var o,l,c,m,f,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&null!==a&&null!==r&&null!==i){e.next=2;break}return e.abrupt("return");case 2:return o=r.result,e.next=5,o.json();case 5:l=e.sent,c=l.iterations,(m=[].concat(Object(d.a)(a),Object(d.a)(c.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{valid:!("valid"in e)||e.valid})}))))).sort((function(e,t){return e.timestamp-t.timestamp})),(g=m.map((function(e){var a,r=L(t,e.data);if(e.valid){var o=i.find((function(t){return+new Date(t.start)>=e.timestamp}));f!==o&&(a=f=o)}var l,c=I(e,a),u=Object(s.a)(c,2),d=u[0],m=u[1],g=(l=Math.abs(d-m))<5?0:l<10?1:l<20?2:l<40?3:4,p=e.valid&&!1===isNaN(g),v=p?Array.from(Array(5),(function(e,t){return t===g?1:0})):null;return Object(n.a)(Object(n.a)({},e),{},{actualRank:g,combined:X(t,r),dog:m,layout:r,maja:d,output:v,trainable:p})}))).sort((function(e,t){return t.timestamp-e.timestamp})),F(g);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}());var F=Object(f.e)(),V=Object(f.i)(F,null),q=a(64),B=a(50),G=a(34),W=a(52),K=a.n(W),Z=Object(f.e)(),H=Object(f.i)(Z,0),Q=Object(f.b)(H,V,(function(e,t){return e<0||null===t?null:t[e]})),U=a(131),$=a(29),ee=a(31),te=z.map((function(e){if(null===e)return null;var t=$.sequential({layers:[$.layers.conv2d({batchInputShape:[null,e.x,e.y,e.z],kernelSize:5,filters:16,strides:2,activation:"relu",kernelInitializer:"varianceScaling"}),$.layers.flatten(),$.layers.dense({units:5,kernelInitializer:"varianceScaling",activation:"softmax"})]});return t.compile({loss:"categoricalCrossentropy",metrics:["accuracy"],optimizer:$.train.adam()}),t})),ae=Object(f.e)(),ne=Object(f.i)(ae,!1),re=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],oe=[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]],le=Object(f.d)();le.use(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,i,o,l,c,s,d,m,f,g,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.number,n=t.rank,r=z.getState(),i=$.tensor([a],[1,r.x,r.y,r.z],"int32"),o=te.getState().predict(i),l=o.argMax(1),e.next=7,l.data();case 7:return c=e.sent,e.next=10,o.data();case 10:return s=e.sent,d=$.tensor([oe[n]],[1,5]),e.next=14,d.argMax(1);case 14:return m=e.sent,console.log("guessed",c[0],Array.from(s)),e.next=18,ee.metrics.perClassAccuracy(m,l);case 18:return f=e.sent,g={name:"Accuracy",tab:"Evaluation"},ee.show.perClassAccuracy(g,f,ie),e.next=23,ee.metrics.confusionMatrix(m,l);case 23:return p=e.sent,ee.render.confusionMatrix({name:"Confusion Matrix",tab:"Evaluation"},{values:p,tickLabels:ie}),i.dispose(),d.dispose(),e.abrupt("return",o);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le.pending.watch((function(e){return e&&ae(!0)})),le.fail.watch((function(e){console.error("guess error",e)})),le.finally.watch((function(){return ae(!1)}));var ce=Object(f.d)();ce.use(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,i,o,l,c,s,d,m,f,g,p,v,b,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.rank,n=z.getState(),r=j.getState(),c=0;case 4:return++c,l=_(),s=X(r,L(r,l)),se=s,ue.redraw(),d=se.map((function(e){return Math.max(0,e-1)})),m=$.tensor([d],[1,n.x,n.y,n.z],"int32"),o=te.getState().predict(m),f=o.argMax(1),e.next=15,f.data();case 15:return i=e.sent,e.next=18,o.data();case 18:return e.sent,g=$.tensor([oe[a]],[1,5]),e.next=22,g.argMax(1);case 22:return p=e.sent,console.log("".concat(c,". found"),i[0]),e.next=26,ee.metrics.perClassAccuracy(p,f);case 26:return v=e.sent,b={name:"Accuracy",tab:"Evaluation"},ee.show.perClassAccuracy(b,v,ie),e.next=31,ee.metrics.confusionMatrix(p,f);case 31:h=e.sent,ee.render.confusionMatrix({name:"Confusion Matrix",tab:"Evaluation"},{values:h,tickLabels:ie}),m.dispose(),g.dispose();case 35:if(i[0]!==a){e.next=4;break}case 36:return console.log("found rank",a,"in",c,"tries"),e.next=39,re(l,a);case 39:return e.abrupt("return",o);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce.pending.watch((function(e){return e&&ae(!0)})),ce.fail.watch((function(e){console.error("find error",e)})),ce.finally.watch((function(){return ae(!1)}));var ue,se,de=function(e){var t=+e.rank;ce({rank:t})},me=function(){var e=Object(G.a)(z),t=Object(U.a)({mode:"onChange"}),a=t.errors,n=t.formState,o=t.handleSubmit,l=t.register,c="guess-container";return Object(r.useEffect)((function(){return se=j.getState(),(ue=new K.a(function(e){return function(t){var a=C.getState(),n=12*e.x,r=12*((e.y+1)*e.z-1),i=[0,0,n,r],o=-1;t.setup=function(){t.createCanvas(n,r,t.CANVAS),t.noLoop(),t.textSize(12*.6),t.textAlign(t.CENTER,t.CENTER)},t.mousePressed=function(){if(A(t,i)){var a=[t.mouseX-i[0],t.mouseY-i[1]],n=t.floor(a[0]/12),r=t.floor(a[1]/(12*(e.y+1))),l=t.floor(a[1]/12)-(e.y+1)*r;if(n<e.x&&l<e.y&&r<e.z){var c=T(e,n,l,r);o=2===se[c]?se[c]=1:1===se[c]?se[c]=2:-1,t.redraw()}}else o=-1},t.mouseReleased=function(){o=-1},t.mouseDragged=function(){if(!(o<0)&&A(t,i)){var a=[t.mouseX-i[0],t.mouseY-i[1]],n=t.floor(a[0]/12),r=t.floor(a[1]/(12*(e.y+1))),l=t.floor(a[1]/12)-(e.y+1)*r;if(n<e.x&&l<e.y&&r<e.z){var c=T(e,n,l,r);se[c]>0&&(se[c]=o),t.redraw()}}},t.draw=function(){for(var n in se){var r=R(e,n),i=12*r.x,o=12*r.y,l=r.z*(e.y+1)*12,c=255;2===se[n]?c=51:1===se[n]&&(c=204),t.fill(c),t.rect(i,o+l,12,12),t.fill(255-c),a[n]>0&&t.text(a[n],i+6,o+l+6)}}}}(e),c)).redraw(),ue.remove}),[]),i.a.createElement("div",null,i.a.createElement("form",{onSubmit:o(de)},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"options"),i.a.createElement("label",null,i.a.createElement("h6",null,"class"),i.a.createElement("select",{name:"rank",ref:l},i.a.createElement("option",{value:0},"0"),i.a.createElement("option",{value:1},"1"),i.a.createElement("option",{value:2},"2"),i.a.createElement("option",{value:3},"3"),i.a.createElement("option",{value:4},"4")),a.rank&&"class is required"),i.a.createElement("hr",null),i.a.createElement("input",{type:"submit",value:"find",disabled:!n.isValid||n.isSubmitting}))),i.a.createElement("p",{id:c}))};function fe(){var e=Object(q.a)(["\n  display: grid;\n  gap: 1ch;\n  grid-auto-flow: column;\n  overflow-x: auto;\n"]);return fe=function(){return e},e}var ge=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(n.a)({_id:t._id,title:t.title,data:t.data,expectedRank:t.expectedRank,timestamp:t.timestamp},a),console.log("saveIteration",r),e.next=4,fetch("https://heartrate.miran248.now.sh/api/iteration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:J();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pe=B.a.div(fe()),ve=function(e){var t=e.id,a=e.index,n=e.iteration,o=(Object(G.a)(H),Object(G.a)(z));return Object(r.useEffect)((function(){return new K.a(function(e,t){return function(a){var n=C.getState(),r=12*t.x,i=12*((t.y+1)*t.z-1);a.setup=function(){a.createCanvas(r,i,a.CANVAS),a.noLoop(),a.textSize(12*.6),a.textAlign(a.CENTER,a.CENTER)},a.draw=function(){for(var r in e){var i=R(t,r),o=12*i.x,l=12*i.y,c=i.z*(t.y+1)*12,u=255;2===e[r]?u=51:1===e[r]&&(u=204),a.fill(u),a.rect(o,l+c,12,12),a.fill(255-u),n[r]>0&&a.text(n[r],o+6,l+c+6)}}}}(n.combined,o),t).remove}),[]),i.a.createElement("button",{id:t,onClick:function(){return Z(a)},disabled:!0},i.a.createElement("div",null,i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:n.valid,disabled:!("_id"in n),onClick:function(){return ge(n,{valid:!n.valid})}})," valid")),i.a.createElement("div",null,n.title),i.a.createElement("div",null,"dog ",Math.round(n.dog),"bpm, maja ",Math.round(n.maja),"bpm, delta ",Math.round(Math.abs(n.maja-n.dog)),"bpm"),i.a.createElement("div",null,"_id"in n?"expected ".concat(n.expectedRank,", "):"","actual ",n.actualRank),i.a.createElement("div",null,"trainable ",n.trainable.toString()," (",n.output,")"))},be=function(){var e=Object(G.a)(V);return null===e?i.a.createElement("div",null,"loading iterations..."):i.a.createElement("div",null,i.a.createElement("h6",null,"total iterations"),i.a.createElement("p",null,e.length),i.a.createElement(pe,null,e.map((function(e,t){var a="pick-container-".concat(e.title);return i.a.createElement(ve,{key:a,id:a,index:t,iteration:e})}))))};function je(){var e=Object(q.a)(["\n  & canvas {\n    display: block;\n    height: auto !important;\n    width: 100% !important;\n  }\n"]);return je=function(){return e},e}var he=B.a.div(je()),ye=function(){var e=Object(G.a)(Q),t=Object(G.a)(z),a="preview-container";if(Object(r.useEffect)((function(){if(null!==e)return new K.a(function(e,t){return function(a){a.setup=function(){a.createCanvas(750,468.75,a.WEBGL),a.frameRate(12)},a.draw=function(){for(var n in a.clear(),a.ambientLight(255,255,255),a.rotateX(-.6),a.rotateY(.01*a.mouseX),a.translate(-30*t.x,-30*t.y,-30*t.z),e)if(0!==e[n]){var r=R(t,n),i=r.x,o=r.y,l=r.z;a.push(),a.translate(60*(i+.5),60*(l+.5),60*(o+.5)),a.rotateX(-.5*a.PI),2===e[n]?a.fill(51,51,51):1===e[n]&&a.fill(153,153,153),a.plane(60),a.pop()}var c,u=k.getState(),d=Object(h.a)(u.edgeEntries());try{for(d.s();!(c=d.n()).done;){var m=Object(s.a)(c.value,6),f=(m[0],m[1],m[2]),g=m[3],p=(m[4],m[5],R(t,+f)),v=R(t,+g);a.push(),a.strokeWeight(2),a.stroke(0,102,255),a.line(60*(p.x+.5),60*(p.z+.5),60*(p.y+.5),60*(v.x+.5),60*(v.z+.5),60*(v.y+.5)),a.pop()}}catch(b){d.e(b)}finally{d.f()}}}}(e.combined,t),a).remove}),[e]),null===e)return i.a.createElement("div",null,i.a.createElement("a",{href:"#pick"},"pick iteration"));var n=JSON.stringify(e.combined);return i.a.createElement(he,null,i.a.createElement("p",null,i.a.createElement("code",null,n)),i.a.createElement("div",{id:a}))},xe=Object(f.e)(),Ee=Object(f.i)(xe,0);function Oe(e){return we.apply(this,arguments)}function we(){return(we=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.show.modelSummary({name:"Model Architecture"},t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze,ke;Object(f.b)(V,z,(function(e,t){if(null!==e&&null!==t){ze&&ze.dispose(),ke&&ke.dispose();var a=e.filter((function(e){return e.trainable})),n=a.map((function(e){return e.layout}));ze=$.tensor(n,[n.length,t.x,t.y,t.z],"int32");var r=a.map((function(e){return e.output}));ke=$.tensor(r,[n.length,5],"int32")}}));var Se=Object(f.d)();Se.use(Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe(t=te.getState()),a=ee.show.fitCallbacks({name:"Model Training",tab:"Training",styles:{height:"800px"}},["loss","val_loss","acc","val_acc"],{callbacks:["onEpochEnd"]}),e.next=5,t.fit(ze,ke,{epochs:250,shuffle:!0,callbacks:{onEpochEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=(t[1],r+1);return xe(i/250),a.onEpochEnd.apply(a,t)}}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),Se.pending.watch((function(e){return e&&ae(!0)})),Se.fail.watch((function(e){console.error("train error",e)})),Se.finally.watch((function(){return ae(!1)}));var Me=function(){var e=Object(G.a)(Ee),t=Object(G.a)(ne);return i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("button",{onClick:Se,disabled:t},t?"training ...":"train")),i.a.createElement("progress",{value:e},Math.round(100*e),"%"))};function Ne(){var e=Object(q.a)(["\n  & > a + a {\n    margin-left: 1ch;\n  }\n"]);return Ne=function(){return e},e}var Ce=B.a.nav(Ne()),Ae=function(){return i.a.createElement("header",null,i.a.createElement("h1",null,"nbf"),i.a.createElement(Ce,null,i.a.createElement("a",{href:"#pick"},"pick"),i.a.createElement("a",{href:"#preview"},"preview"),i.a.createElement("a",{href:"#train"},"train"),i.a.createElement("a",{href:"#guess"},"guess")))},Re=function(){return i.a.createElement("details",{id:"pick",open:!0},i.a.createElement("summary",null,"pick iteration"),i.a.createElement(be,null))},Te=function(){return i.a.createElement("details",{id:"preview",open:!0},i.a.createElement("summary",null,"3d preview"),i.a.createElement(ye,null))},_e=function(){return i.a.createElement("details",{id:"train",open:!0},i.a.createElement("summary",null,"train"),i.a.createElement(Me,null))},Le=function(){return i.a.createElement("details",{id:"guess",open:!0},i.a.createElement("summary",null,"guess"),i.a.createElement(me,null))},Xe=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ae,null),i.a.createElement("main",null,i.a.createElement(Re,null),i.a.createElement("hr",null),i.a.createElement(Te,null),i.a.createElement("hr",null),i.a.createElement(_e,null),i.a.createElement("hr",null),i.a.createElement(Le,null)))},Ie={iterations:[{title:"2020-05-26 1",data:[3,4,6,7,9,11,12,14,15,24,27,29,31,34,36,38,39,44,46,48,49,51,53,54,57,59,61,62,63,64,70,72],george:89,maja:104},{title:"2020-05-26 2",data:[3,4,6,7,9,11,12,13,15,24,27,29,32,35,36,38,39,44,45,48,49,52,53,54,57,59,62,63,65,70,72],boogie:98,maja:87},{title:"2020-05-27 1",data:[1,3,4,5,7,9,11,12,13,15,19,24,28,29,32,35,36,40,41,46,48,49,51,54,57,59,61,62,68,70,72],maja:93,george:80,george_boogie:85,boogie:90},{title:"2020-05-27 2",data:[1,3,4,5,8,10,11,12,13,15,19,24,28,29,35,38,40,41,43,46,48,50,51,55,56,59,61,62,68,70,72],maja:90,george:82,george_boogie:90,boogie:98},{title:"2020-06-01 1",data:[3,4,5,7,10,13,14,15,17,19,24,28,30,32,35,38,40,41,43,46,48,50,52,54,57,59,60,62,65,68,70,72],maja:90,boogie:127},{title:"2020-06-01 2",data:[4,5,10,13,14,15,16,19,24,28,30,32,34,37,38,40,41,43,47,48,50,51,54,57,59,60,61,62,64,68,70,72],maja:96,boogie:93},{title:"2020-06-02 1",data:[3,4,5,7,9,12,13,15,17,19,24,26,30,31,34,36,38,40,43,46,48,50,51,55,57,59,60,61,66,68,70,72],maja:93,george:92},{title:"2020-06-02 2",data:[3,4,5,7,9,11,12,16,17,19,26,27,29,31,34,36,40,43,48,49,52,55,57,59,60,61,62,68,70,72],maja:97,george:142},{title:"2020-06-02 3",data:[3,4,5,7,9,11,12,13,15,17,19,24,26,29,30,34,36,38,40,43,46,48,49,50,54,57,59,61,62,68,70,71,72],maja:92,mala:81},{title:"2020-06-02 4",data:[3,4,5,7,10,11,12,15,17,19,24,26,29,30,34,36,38,41,43,46,48,49,52,54,57,59,60,61,68,70,71,72],maja:86,mala:88},{title:"2020-06-03 1",data:[3,4,5,7,9,11,12,15,16,20,26,28,29,30,32,36,39,41,43,46,48,49,52,54,56,59,60,61,63,69,70,71],maja:95,mala:154},{title:"2020-06-03 2",data:[3,4,5,8,9,11,13,14,17,20,25,28,29,31,33,36,37,41,43,46,48,49,52,56,57,59,62,63,64,65,70,71],maja:99,mala:87},{title:"2020-06-03 3",data:[3,4,5,9,10,11,13,14,17,20,25,26,30,32,33,36,38,41,43,46,48,49,52,55,57,59,60,61,63,70,71,72],maja:98,george:96},{title:"2020-06-03 4",data:[3,4,5,9,10,11,13,14,17,20,25,26,30,32,33,36,40,41,43,46,47,48,49,52,55,57,59,61,62,63,70,71,72],maja:93,george:119},{title:"2020-06-03 5",data:[3,4,5,8,10,11,13,15,17,20,25,26,30,32,34,36,38,41,43,44,46,47,48,50,52,55,57,59,60,61,63,66,71,72],maja:101,boogie:75},{title:"2020-06-03 6",data:[3,4,5,7,10,11,12,15,17,20,25,26,29,31,34,36,38,41,45,46,48,49,51,55,57,59,60,61,66,68,70,72],maja:92,ada:69},{title:"2020-06-04 1",data:[3,4,5,7,9,11,13,15,17,20,24,25,27,29,30,32,33,39,43,44,48,49,50,51,56,59,60,61,62,68,70,72],maja:92,ada:96},{title:"2020-06-04 2",data:[3,4,5,8,9,11,13,15,17,19,24,25,29,32,34,38,40,41,43,46,47,48,49,52,53,57,60,61,64,68,71,73],maja:87,george:93},{title:"2020-06-04 3",data:[3,4,5,7,9,11,13,15,17,19,24,26,29,32,34,38,40,41,44,46,48,50,52,55,57,59,62,65,68,71,72,73],maja:96,boogie:184},{title:"2020-06-04 4",data:[3,4,5,7,8,11,13,15,17,20,24,27,29,30,34,38,40,41,45,46,48,51,52,54,57,59,61,63,64,70,71,73],maja:97,ada:98},{title:"2020-06-05 1",data:[3,4,5,7,10,11,12,14,15,20,24,27,29,31,34,38,40,41,43,44,48,51,52,54,57,62,63,70,71,72,73],maja:89,boogie:108},{title:"2020-06-05 2",data:[3,4,5,7,9,11,12,14,15,16,24,27,29,31,34,38,40,41,43,45,48,49,51,54,56,60,63,69,70,71,73],maja:97,boogie:85},{title:"2020-06-05 3",data:[3,4,5,7,10,11,12,14,15,19,25,27,29,31,34,37,40,41,43,48,49,52,55,57,59,62,65,68,69,71,73],maja:93,george:124},{title:"2020-06-05 4",data:[3,4,5,7,10,11,14,16,19,26,27,29,31,34,36,40,41,46,48,51,52,55,57,59,61,62,64,65,68,71],maja:86,george:150},{title:"2020-06-05 5",data:[3,4,5,7,10,11,12,13,15,20,26,27,31,32,34,36,39,41,44,46,51,52,54,56,59,61,62,63,65,69,71],maja:95,ada:90},{title:"2020-06-08 1",data:[3,4,5],maja:88,george:83},{title:"2020-06-08 2",data:[3,4,5,7,10,11,12,16,17,20,24,27,31,32,34,36,38,41,43,48,49,52,55,57,59,61,62,63,64,66,69],maja:90,george:117},{title:"2020-06-08 3",data:[3,4,5,7,10,11,12,16,17,20,24,26,31,32,34,36,38,41,43,48,49,51,55,57,59,61,62,63,64,66,69,70],maja:97,mala:98},{title:"2020-06-08 4",data:[3,4,5,9,10,11,12,16,17,20,24,25,31,33,34,36,38,41,46,48,49,52,55,57,59,60,63,64,65,66,70],maja:105,mala:133},{title:"2020-06-08 5",data:[3,4,5,9,10,11,13,16,17,20,25,27,30,33,34,37,38,41,45,48,50,51,55,57,59,60,63,65,66,70,72],maja:107,boogie:88},{title:"2020-06-08 6",data:[3,4,5,8,10,11,13,14,16,21,25,27,30,33,34,36,37,38,43,48,51,52,55,56,59,62,63,65,70,71,72],maja:105,boogie:129},{title:"2020-06-09 1",data:[3,4,5,8,10,11,12,14,15,16,19,21,25,28,30,31,35,37,39,40,43,48,51,52,54,56,59,60,63,65,69,70,71],maja:82,mala:0},{title:"2020-06-09 2",data:[3,4,5,8,9,11,12,14,16,19,24,28,29,30,35,39,40,41,45,48,50,52,54,56,59,60,63,65,69,70,71],maja:89,george:153},{title:"2020-06-09 3",data:[3,4,5,7,10,11,13,14,16,19,25,26,30,33,35,37,40,41,45,48,50,51,54,56,59,60,63,65,69,70,71],maja:109,boogie:94},{title:"2020-06-11 1",data:[1,3,5,7,10,11,13,15,16,20,24,25,30,32,35,36,37,39,44,48,50,51,54,56,59,60,62,63,65,70,72],maja:140,george:119},{title:"2020-06-11 2",data:[1,3,5,7,9,10,11,13,16,20,24,27,30,32,35,36,37,39,46,48,49,52,54,56,59,61,62,63,69,70,71],maja:97,mala:116},{title:"2020-06-11 3",data:[1,3,5,7,10,11,12,13,16,20,24,27,30,32,35,36,37,39,45,48,50,52,54,56,59,61,63,64,66,70,71],maja:87,boogie:113},{title:"2020-06-11 4",data:[1,3,5,7,10,12,14,15,16,20,24,27,30,33,35,36,38,39,45,48,50,51,54,55,59,61,63,64,66,70,71],maja:117,boogie:87},{title:"2020-06-12 1",data:[1,3,4,7,10,12,14,15,16,20,24,25,30,34,35,36,37,39,43,49,50,51,52,54,57,59,62,63,69,70,71,73],maja:106,george:106},{title:"2020-06-12 2",data:[1,3,4,7,10,11,12,15,16,20,26,27,30,34,35,37,38,39,43,44,50,51,52,54,57,59,61,62,63,71,73],maja:125,george:125},{title:"2020-06-12 3",data:[1,3,5,7,9,11,12,15,16,21,24,26,30,34,35,37,39,40,43,48,49,51,56,57,59,61,62,68,69,71,73],maja:124,boogie:154},{title:"2020-06-12 4",data:[1,3,4,7,10,11,12,15,16,21,26,27,30,34,35,37,39,40,44,48,49,51,56,57,59,61,66,68,71,72,73],maja:88,boogie:97},{title:"2020-06-15 1",data:[1,3,5,8,9,11,13,14,16,21,26,27,30,34,35,38,39,40,43,44,48,49,51,55,57,59,61,66,68,69,70,71],maja:80,george:176},{title:"2020-06-15 2",data:[1,3,4,8,10,11,12,15,16,20,26,27,30,34,35,38,39,40,43,44,48,49,52,55,56,59,61,64,66,68,70,71],maja:84,george:140},{title:"2020-06-15 3",data:[1,3,5,9,10,11,12,14,16,21,26,28,30,33,35,38,39,40,43,44,48,50,51,55,57,59,61,66,68,71,72,73],maja:87,boogie:139},{title:"2020-06-15 4",data:[1,3,5,7,9,11,12,13,14,21,26,28,30,34,35,38,39,40,43,45,48,50,51,55,57,59,61,63,66,71,72,73],maja:70,boogie:126},{title:"2020-06-16 1",data:[1,3,4,7,9,11,12,13,16,20,26,28,32,34,35,36,39,41,43,46,49,50,52,56,57,59,60,62,65,68,70,72],maja:102,boogie:124},{title:"2020-06-16 2",data:[1,3,4,7,9,11,12,13,16,20,24,26,33,34,35,37,39,41,43,50,51,52,56,57,59,60,62,63,65,70,72],maja:85,boogie:123},{title:"2020-06-18 1",data:[1,3,4,9,10,11,12,13,16,20,24,26,33,34,35,36,39,41,43,46,50,51,52,56,57,59,60,62,63,65,70,72],maja:89,boogie:155},{title:"2020-06-18 2",data:[1,3,4,9,10,11,12,13,16,20,24,26,30,34,35,36,39,41,43,46,50,51,52,56,57,59,60,62,65,68,70,72],maja:115,boogie:130},{title:"2020-06-18 3",data:[1,3,4,9,10,11,12,13,16,20,25,26,32,34,35,36,40,41,43,45,49,51,52,56,57,59,60,62,64,65,68,70],maja:116,george:157},{title:"2020-06-18 4",data:[1,3,4,9,10,11,12,13,17,21,25,26,30,34,35,36,40,41,43,46,49,51,52,56,57,59,60,61,62,64,65,68],maja:107,ada:97},{title:"2020-06-18 5",data:[3,5,9,10,11,13,16,17,21,26,27,32,34,35,36,40,41,43,44,50,51,52,56,57,59,60,61,62,64,65,68],maja:108,ada:120},{title:"2020-06-19 1",data:[1,3,4,7,8,11,13,15,17,21,24,27,32,34,35,36,38,41,43,44,49,50,52,55,57,59,60,61,62,64,65,68],maja:73,boogie:66},{title:"2020-06-19 2",data:[1,3,4,7,8,11,13,15,17,21,27,28,31,32,34,36,38,41,43,44,49,50,52,54,55,59,60,61,64,65,68,71],maja:109,boogie:91},{title:"2020-06-19 3",data:[1,3,4,7,8,11,13,14,16,20,21,27,28,29,30,34,36,40,41,43,44,49,50,51,56,57,59,60,61,64,65,68,71],maja:76,george:144},{title:"2020-06-19 4",data:[1,3,4,7,8,11,13,14,16,20,21,27,28,29,34,35,36,37,38,43,44,49,51,52,55,57,59,60,61,62,64,68,70],maja:118,ada:97},{title:"2020-06-22 1",data:[1,3,4,7,8,11,12,13,16,20,27,28,31,34,35,37,39,40,44,45,49,51,52,55,57,59,60,62,64,68,70,73],maja:89,ada:72},{title:"2020-06-22 2",data:[1,3,4,7,8,11,13,14,16,20,27,28,29,34,35,37,39,40,43,45,49,51,52,55,57,59,60,62,64,68,70,73],maja:84,ada:92},{title:"2020-06-22 3",data:[1,3,4,8,9,11,13,14,16,20,26,28,30,34,35,37,39,40,43,46,49,51,52,55,57,59,60,62,64,68,70,73],maja:86,george:90},{title:"2020-06-22 4",data:[1,2,4,8,9,11,12,14,17,20,25,28,30,33,35,37,39,40,45,46,48,51,52,55,56,59,60,64,68,70,71,73],maja:86,george:85},{title:"2020-06-23 1",data:[1,2,4,8,10,11,12,16,17,21,26,28,29,32,35,36,39,40,44,46,49,50,52,54,56,59,60,65,66,68,72,73],maja:81,george:167},{title:"2020-06-23 2",data:[1,2,4,7,10,11,12,16,17,21,26,28,29,33,35,36,39,40,44,46,48,50,52,54,56,59,60,65,66,68,69,73],maja:90,george:88},{title:"2020-06-23 3",data:[1,2,5,7,10,11,12,16,17,21,26,28,29,33,35,36,39,40,44,46,48,50,52,55,56,59,60,61,62,68,69,73],maja:85,ada:123},{title:"2020-06-23 4",data:[1,2,4,7,10,11,12,16,17,21,24,28,29,31,35,36,39,40,44,46,48,50,52,55,56,59,60,61,66,68,72,73],maja:85,ada:90},{title:"2020-06-26 1",data:[1,2,4,9,10,11,12,13,15,20,25,26,29,33,35,36,39,40,43,46,49,50,51,52,54,57,59,60,63,64,66,70,73],maja:88,boogie:201},{title:"2020-06-26 2",data:[1,2,5,9,10,11,12,13,17,21,24,25,29,33,35,36,37,40,43,46,49,51,54,57,59,60,63,64,66,70,73],maja:89,boogie:146},{title:"2020-06-26 3",data:[1,2,5,9,10,11,12,13,17,21,24,25,29,32,35,36,39,40,45,46,49,51,52,54,56,59,60,66,68,69,70,73],maja:83,ada:143},{title:"2020-06-26 4",data:[1,2,4,8,10,11,14,15,17,19,25,26,30,32,34,36,37,38,45,46,50,51,52,56,57,59,60,61,62,68,69,70],maja:96,ada:92},{title:"2020-06-29 1",data:[1,2,4,7,9,10,11,12,17,21,24,27,29,30,34,38,39,40,43,50,51,52,56,57,59,60,61,62,68,69,72],maja:85,boogie:186},{title:"2020-06-29 2",data:[1,2,4,7,10,11,12,13,17,21,24,27,30,32,34,36,39,40,43,50,51,52,56,57,59,60,61,62,68,70,72],maja:81,boogie:182},{title:"2020-06-29 3",data:[1,2,4,8,10,11,12,13,17,21,24,27,30,32,34,36,39,40,43,50,51,52,56,57,59,60,61,62,65,68,72],maja:76,ada:180},{title:"2020-06-30 1",data:[1,2,4,10,11,12,13,16,17,21,43,46,49,51,52,57,59,60,61,62,65,68,72],maja:82,ada:104},{title:"2020-06-30 2",data:[1,2,4,7,10,11,12,13,17,21,24,26,30,31,34,36,39,40,44,45,48,51,52,55,59,60,62,68,70,72,73],maja:85,ada:101},{title:"2020-06-30 3",data:[1,2,5,7,10,11,12,16,17,21,24,26,30,33,34,36,39,40,43,46,48,51,52,55,57,59,60,61,62,65,68,72],maja:78,boogie:147},{title:"2020-07-02 1",data:[1,2,4,9,10,12,13,16,17,21,24,26,30,33,34,36,39,40,43,46,47,49,51,55,57,59,60,61,68,69,70,71],maja:78,boogie:192},{title:"2020-07-02 2",data:[1,2,5,9,10,12,13,16,17,21,24,26,30,32,35,36,39,40,43,46,49,50,51,55,56,59,61,63,64,65,66,71],maja:91,boogie:167},{title:"2020-07-02 3",data:[1,2,4,9,10,12,13,16,17,21,24,26,30,32,35,36,39,40,43,46,48,50,51,55,56,59,61,63,64,65,66,71],maja:90,ada:167},{title:"2020-07-02 4",data:[1,2,4,9,10,12,13,15,17,20,24,26,30,32,35,36,39,40,43,46,48,50,51,55,56,59,61,63,64,65,66,71],maja:90,ada:97}],layout:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0],size:{x:7,y:5,z:5}};P(Ie.iterations.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{timestamp:+new Date(e.title.split(" ")[0]),valid:!0})}))),b(Ie.layout),w(Ie.size),l.a.render(i.a.createElement(Xe,null),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.7adfb523.chunk.js.map